{"ast":null,"code":"var _jsxFileName = \"/home/atat-dev/Desktop/VS_CODE/ReactJS/Project_Movie_Booking/src/pages/Navigation Tab/NavigationTabsThere.page.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\"; // redux hook\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\"; // material ui\n\nimport { AppBar, Grid, Paper, Tab, Tabs } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport Box from \"@material-ui/core/Box\";\nimport { getMovieSchedulePage, schedulerMovieAction } from \"../../store/actions/tabNavigationPage.action\"; // date format\n\nimport * as dayjs from \"dayjs\"; // function tabpanel\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n}; // function tabpanel scoll\n\nfunction a11yPropsScroll(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`\n  };\n} // function tabpanel\n\n\nfunction NavigationTabsTherePage() {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch(); // tabpanel date\n\n  const [values, setValues] = React.useState(0);\n\n  const handleChanges = (event, newValue) => {\n    setValues(newValue);\n  }; // tabpanel date\n\n\n  const lstCumRap = useSelector(state => {\n    return state.TabNavigationPageReducer.lstCumRap; // get lstCumRap to  TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  });\n  const lichChieuPhim = useSelector(state => {\n    return state.TabNavigationPageReducer.lichChieuPhim; // get lstCumRap to  TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  });\n  const codeGroupCinema = useSelector(state => {\n    return state.TabNavigationPageReducer.codeGroupCinema;\n  });\n  const codeCinema = useSelector(state => {\n    return state.TabNavigationPageReducer.codeCinema; // get codeCinema form NavigationTabsOne.page => TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  }); // const dateSchedule = useSelector((state) => {\n  //   return state.TabNavigationPageReducer.dateSchedule; // get nameGroupCinema form NavigationTabsOne.page => TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  // });\n\n  const schedulerMovie = useSelector(state => {\n    return state.TabNavigationPageReducer.schedulerMovie; // get nameGroupCinema form NavigationTabsOne.page => TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  }); // get maPhim\n\n  const [stateMaphim, setStateMaPhim] = useState({\n    maPhim: \"\"\n  }); // const [statemaLichChieu, setStatemaLichChieu] = useState({\n  //   maLichChieu: \"\",\n  // });\n\n  const handleMaPhim = (maPhim, lstLichChieuTheoPhim) => {\n    setStateMaPhim({\n      maPhim: maPhim\n    });\n    dispatch(getMovieSchedulePage(lstLichChieuTheoPhim));\n    dispatch(schedulerMovieAction(undefined));\n    setValues(0);\n  };\n\n  const handleDateTime = schedule => {\n    dispatch(schedulerMovieAction(schedule));\n  }; // booking\n\n\n  const bookingMovie = maLichChieu => {\n    if (maLichChieu && stateMaphim.maPhim) {\n      history.push(`/bookingComponent/${maLichChieu}-${stateMaphim.maPhim}`);\n    }\n\n    const toKen = JSON.parse(localStorage.getItem(\"token\"));\n\n    if (!toKen) {\n      history.push(\"/signIn\");\n    }\n  }; // render date\n\n\n  const renderDateTime = () => {\n    return lichChieuPhim.map((item, index) => {\n      return /*#__PURE__*/_createElement(Tab, {\n        onClick: () => {\n          handleDateTime(item);\n        },\n        label: dayjs(item.ngayChieuGioChieu).format(\"DD-MM-YYYY\"),\n        ...a11yPropsScroll(index),\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }\n      });\n    });\n  };\n\n  const renderTenPhim = () => {\n    const index = lstCumRap.findIndex(item => item.maCumRap === codeGroupCinema);\n\n    if (index !== -1) {\n      return lstCumRap[index].danhSachPhim.map((item, index) => {\n        var _schedulerMovie$giaVe, _schedulerMovie$ngayC, _schedulerMovie$ngayC2;\n\n        let httpS = item.hinhAnh.split(\":\");\n        let urlImg = httpS[0] + \"s:\" + httpS[1];\n        return /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          container: true,\n          className: \"ChildTab\",\n          onClick: () => {\n            handleMaPhim(item.maPhim, item.lstLichChieuTheoPhim);\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 2,\n            className: stateMaphim.maPhim === item.maPhim ? \"ChildTab_Img_Active\" : \"ChildTab_Img\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: urlImg,\n              alt: urlImg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 5,\n            className: stateMaphim.maPhim === item.maPhim ? \"ChildTab_Intro_Active\" : \"ChildTab_Intro\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: codeCinema,\n              children: item.maPhim\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"T\\xEAn Phim : \", item.tenPhim.slice(0, 30)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), item.maPhim === stateMaphim.maPhim && schedulerMovie ? /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 5,\n            className: \"ChildTab_Timer\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dateTimer\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"M\\xE3 R\\u1EA1p : \", schedulerMovie.maRap]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"M\\xE3 Lc : \", schedulerMovie.maLichChieu]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Gi\\xE1 V\\xE9 : \", (_schedulerMovie$giaVe = schedulerMovie.giaVe) === null || _schedulerMovie$giaVe === void 0 ? void 0 : _schedulerMovie$giaVe.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u0110\\u1EB7t V\\xE9 :\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => bookingMovie(schedulerMovie.maLichChieu, schedulerMovie.ngayChieuGioChieu),\n                  className: `timeCode ${codeCinema}`,\n                  children: [(_schedulerMovie$ngayC = schedulerMovie.ngayChieuGioChieu) === null || _schedulerMovie$ngayC === void 0 ? void 0 : _schedulerMovie$ngayC.slice(11, 16), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"gray\",\n                      marginLeft: \"5px\"\n                    },\n                    children: `~ ${getTimeEnd((_schedulerMovie$ngayC2 = schedulerMovie.ngayChieuGioChieu) === null || _schedulerMovie$ngayC2 === void 0 ? void 0 : _schedulerMovie$ngayC2.slice(11, 16))}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 5,\n            className: \"ChildTab_Timer\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ch\\u1ECDn Phim\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this);\n      });\n    }\n  }; //Return Time-end with Time-start\n\n\n  const getTimeEnd = timeStart => {\n    if (timeStart) {\n      let dateFormat = new Date();\n      dateFormat.setHours(timeStart.slice(0, 2), timeStart.slice(3), 0);\n      dateFormat.setHours(dateFormat.getHours() + 2);\n      let timeEnd = dateFormat.toLocaleTimeString(\"en-GB\").slice(0, 5);\n      return timeEnd;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    item: true,\n    xs: 6,\n    className: \"rowThereNavigationTab\",\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      lg: 12,\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        color: \"default\",\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          className: \"paperBar\",\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            value: values,\n            onChange: handleChanges,\n            variant: \"scrollable\",\n            scrollButtons: \"auto\",\n            children: renderDateTime()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"titleDate\",\n        children: \"Ch\\u1ECDn Ng\\xE0y Chi\\u1EBFu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      lg: 12,\n      className: \"rowThereNavigation_ChildTab\",\n      children: renderTenPhim()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NavigationTabsTherePage, \"6BiNbX0FCyADNIdOxm9sv6vVjVA=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c2 = NavigationTabsTherePage;\nexport default NavigationTabsTherePage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"NavigationTabsTherePage\");","map":{"version":3,"sources":["/home/atat-dev/Desktop/VS_CODE/ReactJS/Project_Movie_Booking/src/pages/Navigation Tab/NavigationTabsThere.page.jsx"],"names":["React","useState","useDispatch","useSelector","useHistory","AppBar","Grid","Paper","Tab","Tabs","PropTypes","Box","getMovieSchedulePage","schedulerMovieAction","dayjs","TabPanel","props","children","value","index","other","p","propTypes","node","number","isRequired","a11yPropsScroll","id","NavigationTabsTherePage","history","dispatch","values","setValues","handleChanges","event","newValue","lstCumRap","state","TabNavigationPageReducer","lichChieuPhim","codeGroupCinema","codeCinema","schedulerMovie","stateMaphim","setStateMaPhim","maPhim","handleMaPhim","lstLichChieuTheoPhim","undefined","handleDateTime","schedule","bookingMovie","maLichChieu","push","toKen","JSON","parse","localStorage","getItem","renderDateTime","map","item","ngayChieuGioChieu","format","renderTenPhim","findIndex","maCumRap","danhSachPhim","httpS","hinhAnh","split","urlImg","tenPhim","slice","maRap","giaVe","toLocaleString","color","marginLeft","getTimeEnd","timeStart","dateFormat","Date","setHours","getHours","timeEnd","toLocaleTimeString"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n// redux hook\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n// material ui\nimport { AppBar, Grid, Paper, Tab, Tabs } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport Box from \"@material-ui/core/Box\";\nimport { getMovieSchedulePage, schedulerMovieAction } from \"../../store/actions/tabNavigationPage.action\";\n// date format\nimport * as dayjs from \"dayjs\";\n\n// function tabpanel\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box sx={{ p: 2 }}>\n          <div>{children}</div>\n        </Box>\n      )}\n    </div>\n  );\n}\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n};\n// function tabpanel scoll\nfunction a11yPropsScroll(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\n  };\n}\n// function tabpanel\n\nfunction NavigationTabsTherePage() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  // tabpanel date\n  const [values, setValues] = React.useState(0);\n  const handleChanges = (event, newValue) => {\n    setValues(newValue);\n  };\n  // tabpanel date\n\n  const lstCumRap = useSelector((state) => {\n    return state.TabNavigationPageReducer.lstCumRap; // get lstCumRap to  TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  });\n  const lichChieuPhim = useSelector((state) => {\n    return state.TabNavigationPageReducer.lichChieuPhim; // get lstCumRap to  TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  });\n  const codeGroupCinema = useSelector((state) => {\n    return state.TabNavigationPageReducer.codeGroupCinema;\n  });\n  const codeCinema = useSelector((state) => {\n    return state.TabNavigationPageReducer.codeCinema; // get codeCinema form NavigationTabsOne.page => TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  });\n  // const dateSchedule = useSelector((state) => {\n  //   return state.TabNavigationPageReducer.dateSchedule; // get nameGroupCinema form NavigationTabsOne.page => TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  // });\n  const schedulerMovie = useSelector((state) => {\n    return state.TabNavigationPageReducer.schedulerMovie; // get nameGroupCinema form NavigationTabsOne.page => TabNavigationPageReducer => type : GET_CODE_CINEMA_PAGE\n  });\n\n  // get maPhim\n  const [stateMaphim, setStateMaPhim] = useState({\n    maPhim: \"\",\n  });\n  // const [statemaLichChieu, setStatemaLichChieu] = useState({\n  //   maLichChieu: \"\",\n  // });\n  const handleMaPhim = (maPhim, lstLichChieuTheoPhim) => {\n    setStateMaPhim({\n      maPhim: maPhim,\n    });\n    dispatch(getMovieSchedulePage(lstLichChieuTheoPhim));\n    dispatch(schedulerMovieAction(undefined))\n    setValues(0);\n  };\n  const handleDateTime = (schedule) => {\n    dispatch(schedulerMovieAction(schedule))\n  }\n  // booking\n  const bookingMovie = (maLichChieu) => {\n    if (maLichChieu && stateMaphim.maPhim) {\n      history.push(\n        `/bookingComponent/${maLichChieu}-${stateMaphim.maPhim}`\n      );\n    }\n    const toKen = JSON.parse(localStorage.getItem(\"token\"));\n    if (!toKen) {\n      history.push(\"/signIn\");\n    }\n  };\n\n  // render date\n  const renderDateTime = () => {\n    return lichChieuPhim.map((item, index) => {\n      return (\n        <Tab\n          onClick={() => {\n            handleDateTime(item);\n          }}\n          label={dayjs(item.ngayChieuGioChieu).format(\"DD-MM-YYYY\")}\n          {...a11yPropsScroll(index)}\n          key={index}\n        />\n      );\n    });\n  };\n  const renderTenPhim = () => {\n    const index = lstCumRap.findIndex(\n      (item) => item.maCumRap === codeGroupCinema\n    );\n    if (index !== -1) {\n      return lstCumRap[index].danhSachPhim.map((item, index) => {\n        let httpS = item.hinhAnh.split(\":\");\n        let urlImg = httpS[0] + \"s:\" + httpS[1];\n        return (\n          <Grid\n            item\n            xs={12}\n            container\n            className=\"ChildTab\"\n            key={index}\n            onClick={() => {\n              handleMaPhim(item.maPhim, item.lstLichChieuTheoPhim);\n            }}\n          >\n            <Grid item xs={2} className={stateMaphim.maPhim === item.maPhim ? \"ChildTab_Img_Active\" : \"ChildTab_Img\"}>\n              <img src={urlImg} alt={urlImg} />\n            </Grid>\n            <Grid\n              item\n              xs={5}\n              className={stateMaphim.maPhim === item.maPhim ? \"ChildTab_Intro_Active\" : \"ChildTab_Intro\"}>\n              <label className={codeCinema}>{item.maPhim}</label>\n              <span>Tên Phim : {item.tenPhim.slice(0, 30)}</span>\n            </Grid>\n            {item.maPhim === stateMaphim.maPhim && schedulerMovie ?\n              <Grid item xs={5} className=\"ChildTab_Timer\">\n                <div className=\"dateTimer\">\n                  <p>Mã Rạp : {schedulerMovie.maRap}</p>\n                  <p>Mã Lc : {schedulerMovie.maLichChieu}</p>\n                  <p>Giá Vé : {schedulerMovie.giaVe?.toLocaleString()}</p>\n                  <p>\n                    Đặt Vé :{\" \"}\n                    <span\n                      onClick={() =>\n                        bookingMovie(\n                          schedulerMovie.maLichChieu,\n                          schedulerMovie.ngayChieuGioChieu\n                        )\n                      }\n                      className={`timeCode ${codeCinema}`}\n                    >\n                      {schedulerMovie.ngayChieuGioChieu?.slice(11, 16)}\n                      <span\n                        style={{\n                          color: \"gray\",\n                          marginLeft: \"5px\",\n                        }}\n                      >{`~ ${getTimeEnd(\n                        schedulerMovie.ngayChieuGioChieu?.slice(11, 16)\n                      )}`}</span>\n                    </span>\n                  </p>\n                </div>\n              </Grid> :\n              <Grid item xs={5} className=\"ChildTab_Timer\">\n                <p>Chọn Phim</p>\n              </Grid>}\n          </Grid>\n        );\n      });\n    }\n  };\n  //Return Time-end with Time-start\n  const getTimeEnd = (timeStart) => {\n    if (timeStart) {\n      let dateFormat = new Date();\n      dateFormat.setHours(timeStart.slice(0, 2), timeStart.slice(3), 0);\n      dateFormat.setHours(dateFormat.getHours() + 2);\n      let timeEnd = dateFormat.toLocaleTimeString(\"en-GB\").slice(0, 5);\n      return timeEnd;\n    }\n  };\n  return (\n    <Grid container item xs={6} className=\"rowThereNavigationTab\">\n      <Grid item xs={12} lg={12}>\n        <AppBar position=\"static\" color=\"default\">\n          <Paper className=\"paperBar\">\n            <Tabs\n              value={values}\n              onChange={handleChanges}\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n            >\n              {renderDateTime()}\n            </Tabs>\n          </Paper>\n        </AppBar>\n        <h5 className=\"titleDate\">Chọn Ngày Chiếu</h5>\n      </Grid>\n      <Grid item xs={12} lg={12} className=\"rowThereNavigation_ChildTab\">\n        {renderTenPhim()}\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default NavigationTabsTherePage;\n"]},"metadata":{},"sourceType":"module"}