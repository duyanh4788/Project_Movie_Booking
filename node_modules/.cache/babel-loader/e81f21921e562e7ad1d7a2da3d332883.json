{"ast":null,"code":"import Axios from \"axios\";\nimport { DOMAIN } from \"../../services/domainUrl\";\nimport { MESSAGE_DATA_ERROR, MESSAGE_STATUS_CODE } from \"../constants/messageSnackbar.constant\";\nimport { DELETE_LIST_MOVIE_MANAGEMENT, GET_CODE_CINEMA_MOVIE_MANAGEMENT, GET_CUM_RAP_MOVIE_MANAGEMENT, GET_LIST_LENGTH_MOVIE_MANAGEMENT, GET_LIST_MOVIE_MANAGEMENT, GET_MAPHIM_MOVIE_MANAGEMENT, GET_MOVIE_DATE_MANAGEMENT, INFO_MOVIE_MANAGEMENT, PAGE_FORM_MOVIE_MANAGEMENT, UPDATE_LIST_MOVIE_MANAGEMENT } from \"../constants/movieManagement.constant\";\nimport { hidenLoader_Action, showLoader_Action } from \"./common.action\";\nexport const getListLengthMovieManagement = maNhom => {\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: \"GET\",\n        url: `${DOMAIN}QuanLyPhim/LayDanhSachPhim?maNhom=${maNhom}`\n      });\n      dispatch({\n        type: GET_LIST_LENGTH_MOVIE_MANAGEMENT,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n};\nexport const getListMovieManagement = (maNhom, soTrang, soPhanTuTrenTrang) => {\n  return async dispatch => {\n    dispatch(showLoader_Action());\n\n    try {\n      const res = await Axios({\n        method: \"GET\",\n        url: `${DOMAIN}QuanLyPhim/LayDanhSachPhimPhanTrang?maNhom=${maNhom}&soTrang=${soTrang}&soPhanTuTrenTrang=${soPhanTuTrenTrang}`\n      });\n      dispatch({\n        type: GET_LIST_MOVIE_MANAGEMENT,\n        payload: res.data\n      });\n      dispatch(hidenLoader_Action());\n    } catch (error) {\n      console.log(error.response);\n      dispatch(hidenLoader_Action());\n    }\n  };\n}; // chưa sử dụng ( dùng cho search )\n\nexport const getListMovieSearchManagement = (maNhom, tuKhoa, soTrang, soPhanTuTrenTrang) => {\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: \"GET\",\n        url: `${DOMAIN}QuanLyPhim/LayDanhSachPhimPhanTrang?maNhom=${maNhom}&tenPhim=${tuKhoa}&soTrang=${soTrang}&soPhanTuTrenTrang=${soPhanTuTrenTrang}`\n      });\n      dispatch({\n        type: GET_LIST_MOVIE_MANAGEMENT,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n}; // search phim theo ngày\n\nexport const getListMovieDateManagement = (maNhom, tuKhoa, soTrang, soPhanTuTrenTrang, tuNgay, denNgay) => {\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: \"GET\",\n        url: `${DOMAIN}QuanLyPhim/LayDanhSachPhimTheoNgay?maNhom=${maNhom}&tenPhim=${tuKhoa}&soTrang=${soTrang}&soPhanTuTrenTrang=${soPhanTuTrenTrang}&tuNgay=${tuNgay}&denNgay=${denNgay}`\n      });\n      dispatch({\n        type: GET_MOVIE_DATE_MANAGEMENT,\n        payload: res.data\n      });\n    } catch (error) {\n      dispatch({\n        type: MESSAGE_STATUS_CODE,\n        // show message error\n        payload: error.response.status\n      });\n      dispatch({\n        type: MESSAGE_DATA_ERROR,\n        // show message error\n        payload: error.response.data\n      });\n    }\n  };\n}; // delete\n\nexport const deleteListMovieManagement = maPhim => {\n  return async dispatch => {\n    const toKen = JSON.parse(localStorage.getItem(\"token\"));\n\n    try {\n      const res = await Axios({\n        method: \"DELETE\",\n        url: `${DOMAIN}QuanLyPhim/XoaPhim?MaPhim=${maPhim}`,\n        headers: {\n          Authorization: `Bearer ${toKen}`\n        }\n      });\n      console.log(res);\n      dispatch({\n        type: DELETE_LIST_MOVIE_MANAGEMENT,\n        // render html\n        payload: maPhim\n      });\n      dispatch({\n        type: MESSAGE_STATUS_CODE,\n        // show message success\n        payload: res.status\n      });\n    } catch (error) {\n      console.log(error.response);\n      dispatch({\n        type: MESSAGE_STATUS_CODE,\n        // show message error\n        payload: error.response.status\n      });\n      dispatch({\n        type: MESSAGE_DATA_ERROR,\n        // show message error\n        payload: error.response.data\n      });\n    }\n  };\n}; // show page moviemnanagement\n\nexport const getInfoMovie = infoMovie => {\n  return {\n    type: INFO_MOVIE_MANAGEMENT,\n    payload: infoMovie\n  };\n};\nexport const showFormMovie = data => {\n  return {\n    type: PAGE_FORM_MOVIE_MANAGEMENT,\n    payload: data\n  };\n};\nexport const hiddenFormMovie = data => {\n  return {\n    type: PAGE_FORM_MOVIE_MANAGEMENT,\n    payload: data\n  };\n}; // update\n\nexport const updateListMovieManagement = formData => {\n  const toKen = JSON.parse(localStorage.getItem(\"token\"));\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: \"POST\",\n        url: `${DOMAIN}QuanLyPhim/CapNhatPhimUpload`,\n        data: formData,\n        headers: {\n          Authorization: `Bearer ${toKen}`\n        }\n      });\n      console.log(res); // dispatch({\n      //     type: UPDATE_LIST_MOVIE_MANAGEMENT, // render html sau khi update thành công\n      //     payload: res\n      // })\n\n      dispatch({\n        type: MESSAGE_STATUS_CODE,\n        // show message success\n        payload: res.status\n      });\n    } catch (error) {\n      dispatch({\n        type: MESSAGE_STATUS_CODE,\n        // show message error\n        payload: error.response.status\n      });\n      dispatch({\n        type: MESSAGE_DATA_ERROR,\n        // show message error\n        payload: error.response.data\n      });\n    }\n  };\n}; // add \n\nexport const addListMovieManagement = formData => {\n  const toKen = JSON.parse(localStorage.getItem(\"token\"));\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: \"POST\",\n        url: `${DOMAIN}QuanLyPhim/ThemPhimUploadHinh`,\n        data: formData,\n        headers: {\n          Authorization: `Bearer ${toKen}`\n        }\n      });\n      dispatch({\n        type: MESSAGE_STATUS_CODE,\n        // show message success\n        payload: res.status\n      });\n    } catch (error) {\n      dispatch({\n        type: MESSAGE_STATUS_CODE,\n        // show message error\n        payload: error.response.status\n      });\n      dispatch({\n        type: MESSAGE_DATA_ERROR,\n        // show message error\n        payload: error.response.data\n      });\n    }\n  };\n}; // creat schedule\n\nexport const getMaPhimMovieManagement = maPhim => {\n  return {\n    type: GET_MAPHIM_MOVIE_MANAGEMENT,\n    payload: maPhim\n  };\n};\nexport const creatScheduleMovie = dataMovie => {\n  const toKen = JSON.parse(localStorage.getItem(\"token\"));\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: \"POST\",\n        url: `${DOMAIN}QuanLyDatVe/TaoLichChieu`,\n        data: dataMovie,\n        headers: {\n          Authorization: `Bearer ${toKen}`\n        }\n      });\n      dispatch({\n        type: MESSAGE_STATUS_CODE,\n        // show message success\n        payload: res.status\n      });\n    } catch (error) {\n      console.log(error.response);\n      dispatch({\n        type: MESSAGE_STATUS_CODE,\n        // show message error\n        payload: error.response.status\n      });\n      dispatch({\n        type: MESSAGE_DATA_ERROR,\n        // show message error\n        payload: error.response.data\n      });\n    }\n  };\n}; // lấy thông tin rạp => mã cụm rạp => tạo lịch chiếu\n\nexport const getCodeCinemaMovieManagement = () => {\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: \"GET\",\n        url: `${DOMAIN}QuanLyRap/LayThongTinHeThongRap`\n      });\n      dispatch({\n        type: GET_CODE_CINEMA_MOVIE_MANAGEMENT,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const getCumRapCinemaManagement = maCumRap => {\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: \"GET\",\n        url: `${DOMAIN}QuanLyRap/LayThongTinCumRapTheoHeThong?maHeThongRap=${maCumRap}`\n      });\n      dispatch({\n        type: GET_CUM_RAP_MOVIE_MANAGEMENT,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};","map":{"version":3,"sources":["/home/atat-dev/Desktop/VS_CODE/Project_Movie_Booking/src/store/actions/movieManagement.action.js"],"names":["Axios","DOMAIN","MESSAGE_DATA_ERROR","MESSAGE_STATUS_CODE","DELETE_LIST_MOVIE_MANAGEMENT","GET_CODE_CINEMA_MOVIE_MANAGEMENT","GET_CUM_RAP_MOVIE_MANAGEMENT","GET_LIST_LENGTH_MOVIE_MANAGEMENT","GET_LIST_MOVIE_MANAGEMENT","GET_MAPHIM_MOVIE_MANAGEMENT","GET_MOVIE_DATE_MANAGEMENT","INFO_MOVIE_MANAGEMENT","PAGE_FORM_MOVIE_MANAGEMENT","UPDATE_LIST_MOVIE_MANAGEMENT","hidenLoader_Action","showLoader_Action","getListLengthMovieManagement","maNhom","dispatch","res","method","url","type","payload","data","error","console","log","response","getListMovieManagement","soTrang","soPhanTuTrenTrang","getListMovieSearchManagement","tuKhoa","getListMovieDateManagement","tuNgay","denNgay","status","deleteListMovieManagement","maPhim","toKen","JSON","parse","localStorage","getItem","headers","Authorization","getInfoMovie","infoMovie","showFormMovie","hiddenFormMovie","updateListMovieManagement","formData","addListMovieManagement","getMaPhimMovieManagement","creatScheduleMovie","dataMovie","getCodeCinemaMovieManagement","getCumRapCinemaManagement","maCumRap"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\nimport { DOMAIN } from \"../../services/domainUrl\";\nimport { MESSAGE_DATA_ERROR, MESSAGE_STATUS_CODE } from \"../constants/messageSnackbar.constant\";\nimport { DELETE_LIST_MOVIE_MANAGEMENT, GET_CODE_CINEMA_MOVIE_MANAGEMENT, GET_CUM_RAP_MOVIE_MANAGEMENT, GET_LIST_LENGTH_MOVIE_MANAGEMENT, GET_LIST_MOVIE_MANAGEMENT, GET_MAPHIM_MOVIE_MANAGEMENT, GET_MOVIE_DATE_MANAGEMENT, INFO_MOVIE_MANAGEMENT, PAGE_FORM_MOVIE_MANAGEMENT, UPDATE_LIST_MOVIE_MANAGEMENT } from \"../constants/movieManagement.constant\";\nimport { hidenLoader_Action, showLoader_Action } from \"./common.action\";\n\nexport const getListLengthMovieManagement = (maNhom) => {\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: \"GET\",\n                url: `${DOMAIN}QuanLyPhim/LayDanhSachPhim?maNhom=${maNhom}`\n            })\n            dispatch({\n                type: GET_LIST_LENGTH_MOVIE_MANAGEMENT,\n                payload: res.data\n            })\n        } catch (error) {\n            console.log(error.response);\n        }\n    }\n}\n\nexport const getListMovieManagement = (maNhom, soTrang, soPhanTuTrenTrang) => {\n    return async (dispatch) => {\n        dispatch(showLoader_Action());\n        try {\n            const res = await Axios({\n                method: \"GET\",\n                url: `${DOMAIN}QuanLyPhim/LayDanhSachPhimPhanTrang?maNhom=${maNhom}&soTrang=${soTrang}&soPhanTuTrenTrang=${soPhanTuTrenTrang}`\n            })\n            dispatch({\n                type: GET_LIST_MOVIE_MANAGEMENT,\n                payload: res.data\n            })\n            dispatch(hidenLoader_Action());\n        } catch (error) {\n            console.log(error.response);\n            dispatch(hidenLoader_Action());\n        }\n    }\n}\n// chưa sử dụng ( dùng cho search )\nexport const getListMovieSearchManagement = (maNhom, tuKhoa, soTrang, soPhanTuTrenTrang) => {\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: \"GET\",\n                url: `${DOMAIN}QuanLyPhim/LayDanhSachPhimPhanTrang?maNhom=${maNhom}&tenPhim=${tuKhoa}&soTrang=${soTrang}&soPhanTuTrenTrang=${soPhanTuTrenTrang}`\n            })\n            dispatch({\n                type: GET_LIST_MOVIE_MANAGEMENT,\n                payload: res.data\n            })\n        } catch (error) {\n            console.log(error.response);\n        }\n    }\n}\n// search phim theo ngày\nexport const getListMovieDateManagement = (maNhom, tuKhoa, soTrang, soPhanTuTrenTrang, tuNgay, denNgay) => {\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: \"GET\",\n                url: `${DOMAIN}QuanLyPhim/LayDanhSachPhimTheoNgay?maNhom=${maNhom}&tenPhim=${tuKhoa}&soTrang=${soTrang}&soPhanTuTrenTrang=${soPhanTuTrenTrang}&tuNgay=${tuNgay}&denNgay=${denNgay}`\n            })\n            dispatch({\n                type: GET_MOVIE_DATE_MANAGEMENT,\n                payload: res.data\n            })\n        } catch (error) {\n            dispatch({\n                type: MESSAGE_STATUS_CODE,// show message error\n                payload: error.response.status\n            })\n            dispatch({\n                type: MESSAGE_DATA_ERROR,// show message error\n                payload: error.response.data\n            })\n        }\n    }\n}\n// delete\nexport const deleteListMovieManagement = (maPhim) => {\n    return async (dispatch) => {\n        const toKen = JSON.parse(localStorage.getItem(\"token\"))\n        try {\n            const res = await Axios({\n                method: \"DELETE\",\n                url: `${DOMAIN}QuanLyPhim/XoaPhim?MaPhim=${maPhim}`,\n                headers: {\n                    Authorization: `Bearer ${toKen}`\n                }\n            })\n            console.log(res);\n            dispatch({\n                type: DELETE_LIST_MOVIE_MANAGEMENT,// render html\n                payload: maPhim\n            })\n            dispatch({\n                type: MESSAGE_STATUS_CODE,// show message success\n                payload: res.status\n            })\n        } catch (error) {\n            console.log(error.response);\n            dispatch({\n                type: MESSAGE_STATUS_CODE,// show message error\n                payload: error.response.status\n            })\n            dispatch({\n                type: MESSAGE_DATA_ERROR,// show message error\n                payload: error.response.data\n            })\n        }\n    }\n}\n// show page moviemnanagement\nexport const getInfoMovie = (infoMovie) => {\n    return {\n        type: INFO_MOVIE_MANAGEMENT,\n        payload: infoMovie\n    }\n}\nexport const showFormMovie = (data) => {\n    return {\n        type: PAGE_FORM_MOVIE_MANAGEMENT,\n        payload: data\n    }\n}\nexport const hiddenFormMovie = (data) => {\n    return {\n        type: PAGE_FORM_MOVIE_MANAGEMENT,\n        payload: data\n    }\n}\n// update\nexport const updateListMovieManagement = (formData) => {\n    const toKen = JSON.parse(localStorage.getItem(\"token\"))\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: \"POST\",\n                url: `${DOMAIN}QuanLyPhim/CapNhatPhimUpload`,\n                data: formData,\n                headers: {\n                    Authorization: `Bearer ${toKen}`\n                }\n            })\n            console.log(res);\n            // dispatch({\n            //     type: UPDATE_LIST_MOVIE_MANAGEMENT, // render html sau khi update thành công\n            //     payload: res\n            // })\n            dispatch({\n                type: MESSAGE_STATUS_CODE,// show message success\n                payload: res.status\n            })\n        } catch (error) {\n            dispatch({\n                type: MESSAGE_STATUS_CODE,// show message error\n                payload: error.response.status\n            })\n            dispatch({\n                type: MESSAGE_DATA_ERROR,// show message error\n                payload: error.response.data\n            })\n        }\n    }\n}\n// add \nexport const addListMovieManagement = (formData) => {\n    const toKen = JSON.parse(localStorage.getItem(\"token\"))\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: \"POST\",\n                url: `${DOMAIN}QuanLyPhim/ThemPhimUploadHinh`,\n                data: formData,\n                headers: {\n                    Authorization: `Bearer ${toKen}`\n                }\n            })\n            dispatch({\n                type: MESSAGE_STATUS_CODE,// show message success\n                payload: res.status\n            })\n        } catch (error) {\n            dispatch({\n                type: MESSAGE_STATUS_CODE,// show message error\n                payload: error.response.status\n            })\n            dispatch({\n                type: MESSAGE_DATA_ERROR,// show message error\n                payload: error.response.data\n            })\n        }\n    }\n}\n\n// creat schedule\nexport const getMaPhimMovieManagement = (maPhim) => {\n    return {\n        type: GET_MAPHIM_MOVIE_MANAGEMENT,\n        payload: maPhim,\n    }\n}\nexport const creatScheduleMovie = (dataMovie) => {\n    const toKen = JSON.parse(localStorage.getItem(\"token\"))\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: \"POST\",\n                url: `${DOMAIN}QuanLyDatVe/TaoLichChieu`,\n                data: dataMovie,\n                headers: {\n                    Authorization: `Bearer ${toKen}`\n                }\n            })\n            dispatch({\n                type: MESSAGE_STATUS_CODE,// show message success\n                payload: res.status\n            })\n        } catch (error) {\n            console.log(error.response);\n            dispatch({\n                type: MESSAGE_STATUS_CODE,// show message error\n                payload: error.response.status\n            })\n            dispatch({\n                type: MESSAGE_DATA_ERROR,// show message error\n                payload: error.response.data\n            })\n        }\n    }\n}\n// lấy thông tin rạp => mã cụm rạp => tạo lịch chiếu\nexport const getCodeCinemaMovieManagement = () => {\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: \"GET\",\n                url: `${DOMAIN}QuanLyRap/LayThongTinHeThongRap`\n            })\n            dispatch({\n                type: GET_CODE_CINEMA_MOVIE_MANAGEMENT,\n                payload: res.data,\n            })\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}\nexport const getCumRapCinemaManagement = (maCumRap) => {\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: \"GET\",\n                url: `${DOMAIN}QuanLyRap/LayThongTinCumRapTheoHeThong?maHeThongRap=${maCumRap}`\n            })\n            dispatch({\n                type: GET_CUM_RAP_MOVIE_MANAGEMENT,\n                payload: res.data\n            })\n        } catch (error) {\n            console.log(error);\n\n        }\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}