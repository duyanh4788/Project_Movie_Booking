{"ast":null,"code":"import Axios from \"axios\";\nimport { DOMAIN } from \"../../services/domainUrl\";\nimport { GET_INFO_USER, UPDATE_INFO_USER } from \"../constants/getInfoUser.const\";\nimport { hidenLoader_Action, showLoader_Action } from \"./common.action\";\nexport const getInfoUserAction = taiKhoan => {\n  return async dispatch => {\n    try {\n      dispatch(showLoader_Action());\n      const res = await Axios({\n        url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/ThongTinTaiKhoan\",\n        method: \"POST\",\n        data: {\n          taiKhoan\n        }\n      });\n      dispatch({\n        type: GET_INFO_USER,\n        payload: res.data\n      });\n      dispatch(hidenLoader_Action());\n    } catch (error) {\n      console.log(\"Lỗi call API thông tin user\", error);\n    }\n  };\n};\nexport const putUpdateUser = infoUpdate => {\n  return async dispatch => {\n    const toKen = JSON.parse(localStorage.getItem('token'));\n    dispatch(showLoader_Action());\n\n    try {\n      const res = await Axios({\n        url: `${DOMAIN}QuanLyNguoiDung/CapNhatThongTinNguoiDung`,\n        method: \"PUT\",\n        data: infoUpdate,\n        headers: {\n          Authorization: `Bearer ${toKen}`\n        }\n      });\n      dispatch({\n        type: UPDATE_INFO_USER,\n        payload: res.data\n      });\n      dispatch(hidenLoader_Action());\n    } catch (error) {\n      console.log(error.response.data);\n      dispatch(hidenLoader_Action());\n    }\n  };\n};","map":{"version":3,"sources":["/home/atat-dev/Desktop/VS_CODE/Project_Movie_Booking/src/store/actions/getInfoUser.action.js"],"names":["Axios","DOMAIN","GET_INFO_USER","UPDATE_INFO_USER","hidenLoader_Action","showLoader_Action","getInfoUserAction","taiKhoan","dispatch","res","url","method","data","type","payload","error","console","log","putUpdateUser","infoUpdate","toKen","JSON","parse","localStorage","getItem","headers","Authorization","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,0BAAvB;AACA,SAASC,aAAT,EAAwBC,gBAAxB,QAAgD,gCAAhD;AACA,SAASC,kBAAT,EAA6BC,iBAA7B,QAAsD,iBAAtD;AAEA,OAAO,MAAMC,iBAAiB,GAAIC,QAAD,IAAc;AAC7C,SAAO,MAAOC,QAAP,IAAoB;AACzB,QAAI;AACFA,MAAAA,QAAQ,CAACH,iBAAiB,EAAlB,CAAR;AACA,YAAMI,GAAG,GAAG,MAAMT,KAAK,CAAC;AACtBU,QAAAA,GAAG,EAAE,yEADiB;AAEtBC,QAAAA,MAAM,EAAE,MAFc;AAGtBC,QAAAA,IAAI,EAAE;AAAEL,UAAAA;AAAF;AAHgB,OAAD,CAAvB;AAKAC,MAAAA,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAEX,aAAR;AAAuBY,QAAAA,OAAO,EAAEL,GAAG,CAACG;AAApC,OAAD,CAAR;AACAJ,MAAAA,QAAQ,CAACJ,kBAAkB,EAAnB,CAAR;AACD,KATD,CASE,OAAOW,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,KAA3C;AACD;AACF,GAbD;AAcD,CAfM;AAiBP,OAAO,MAAMG,aAAa,GAAIC,UAAD,IAAgB;AAC3C,SAAO,MAAOX,QAAP,IAAoB;AACzB,UAAMY,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACAhB,IAAAA,QAAQ,CAACH,iBAAiB,EAAlB,CAAR;;AACA,QAAI;AACF,YAAMI,GAAG,GAAG,MAAMT,KAAK,CAAC;AACtBU,QAAAA,GAAG,EAAG,GAAET,MAAO,0CADO;AAEtBU,QAAAA,MAAM,EAAE,KAFc;AAGtBC,QAAAA,IAAI,EAAEO,UAHgB;AAItBM,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASN,KAAM;AADxB;AAJa,OAAD,CAAvB;AAQAZ,MAAAA,QAAQ,CAAC;AACPK,QAAAA,IAAI,EAAEV,gBADC;AAEPW,QAAAA,OAAO,EAAEL,GAAG,CAACG;AAFN,OAAD,CAAR;AAIAJ,MAAAA,QAAQ,CAACJ,kBAAkB,EAAnB,CAAR;AACD,KAdD,CAcE,OAAOW,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACY,QAAN,CAAef,IAA3B;AACAJ,MAAAA,QAAQ,CAACJ,kBAAkB,EAAnB,CAAR;AACD;AACF,GArBD;AAsBD,CAvBM","sourcesContent":["import Axios from \"axios\";\nimport { DOMAIN } from \"../../services/domainUrl\";\nimport { GET_INFO_USER, UPDATE_INFO_USER } from \"../constants/getInfoUser.const\";\nimport { hidenLoader_Action, showLoader_Action } from \"./common.action\";\n\nexport const getInfoUserAction = (taiKhoan) => {\n  return async (dispatch) => {\n    try {\n      dispatch(showLoader_Action());\n      const res = await Axios({\n        url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/ThongTinTaiKhoan\",\n        method: \"POST\",\n        data: { taiKhoan },\n      });\n      dispatch({ type: GET_INFO_USER, payload: res.data });\n      dispatch(hidenLoader_Action());\n    } catch (error) {\n      console.log(\"Lỗi call API thông tin user\", error);\n    }\n  };\n};\n\nexport const putUpdateUser = (infoUpdate) => {\n  return async (dispatch) => {\n    const toKen = JSON.parse(localStorage.getItem('token'))\n    dispatch(showLoader_Action());\n    try {\n      const res = await Axios({\n        url: `${DOMAIN}QuanLyNguoiDung/CapNhatThongTinNguoiDung`,\n        method: \"PUT\",\n        data: infoUpdate,\n        headers: {\n          Authorization: `Bearer ${toKen}`,\n        }\n      })\n      dispatch({\n        type: UPDATE_INFO_USER,\n        payload: res.data\n      })\n      dispatch(hidenLoader_Action());\n    } catch (error) {\n      console.log(error.response.data);\n      dispatch(hidenLoader_Action());\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}