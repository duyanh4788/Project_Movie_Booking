{"ast":null,"code":"import Axios from \"axios\";\nimport { BOOKING_CHAIR, CHOICE_CHAIR, GET_TICKET_LIST, SET_TIMEOUT_BOOKING } from \"../constants/booking.constant\";\nexport const getTicketListAction = maLichChieu => {\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: 'GET',\n        url: `https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${maLichChieu}`\n      });\n      dispatch({\n        type: GET_TICKET_LIST,\n        payload: res.data.danhSachGhe\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const choiceChairAction = payload => {\n  return {\n    type: CHOICE_CHAIR,\n    // great value dangChon => BookingReducer\n    payload\n  };\n};\nexport const setTimeOutBooking = payload => {\n  return {\n    type: SET_TIMEOUT_BOOKING,\n    // great value dangChon => BookingReducer\n    payload\n  };\n};\nexport const bookingTicketAction = (showTimeCode, listChairChoice) => {\n  // reccive (showTimeCode, listChairChoice) form dispatch BookingComponent\n  return async dispatch => {\n    // get data to localstorage have save form action/signIn_Action \n    const toKen = JSON.parse(localStorage.getItem('token'));\n    const taiKhoan = JSON.parse(localStorage.getItem('taiKhoan'));\n\n    try {\n      const res = await Axios({\n        method: 'POST',\n        url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe\",\n        data: {\n          maLichChieu: showTimeCode,\n          danhSachVe: listChairChoice,\n          taiKhoanNguoiDung: taiKhoan\n        },\n        headers: {\n          Authorization: `Bearer ${toKen}`\n        }\n      });\n      console.log(res);\n      dispatch({\n        type: BOOKING_CHAIR,\n        // none save BookingReducer\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};","map":{"version":3,"sources":["/home/atat-dev/Desktop/VS_CODE/Project_Movie_Booking/src/store/actions/booking.action.js"],"names":["Axios","BOOKING_CHAIR","CHOICE_CHAIR","GET_TICKET_LIST","SET_TIMEOUT_BOOKING","getTicketListAction","maLichChieu","dispatch","res","method","url","type","payload","data","danhSachGhe","error","console","log","choiceChairAction","setTimeOutBooking","bookingTicketAction","showTimeCode","listChairChoice","toKen","JSON","parse","localStorage","getItem","taiKhoan","danhSachVe","taiKhoanNguoiDung","headers","Authorization"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,YAAxB,EAAsCC,eAAtC,EAAuDC,mBAAvD,QAAkF,+BAAlF;AAEA,OAAO,MAAMC,mBAAmB,GAAIC,WAAD,IAAiB;AAChD,SAAO,MAAOC,QAAP,IAAoB;AACvB,QAAI;AACA,YAAMC,GAAG,GAAG,MAAMR,KAAK,CAAC;AACpBS,QAAAA,MAAM,EAAE,KADY;AAEpBC,QAAAA,GAAG,EAAG,qFAAoFJ,WAAY;AAFlF,OAAD,CAAvB;AAIAC,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAER,eADD;AAELS,QAAAA,OAAO,EAAEJ,GAAG,CAACK,IAAJ,CAASC;AAFb,OAAD,CAAR;AAIH,KATD,CASE,OAAOC,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,GAbD;AAcH,CAfM;AAgBP,OAAO,MAAMG,iBAAiB,GAAIN,OAAD,IAAa;AAC1C,SAAO;AACHD,IAAAA,IAAI,EAAET,YADH;AACgB;AACnBU,IAAAA;AAFG,GAAP;AAIH,CALM;AAOP,OAAO,MAAMO,iBAAiB,GAAIP,OAAD,IAAa;AAC1C,SAAO;AACHD,IAAAA,IAAI,EAAEP,mBADH;AACuB;AAC1BQ,IAAAA;AAFG,GAAP;AAIH,CALM;AAOP,OAAO,MAAMQ,mBAAmB,GAAG,CAACC,YAAD,EAAeC,eAAf,KAAmC;AAClE;AACA,SAAO,MAAOf,QAAP,IAAoB;AACvB;AACA,UAAMgB,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,UAAMC,QAAQ,GAAGJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAjB;;AACA,QAAI;AACA,YAAMnB,GAAG,GAAG,MAAMR,KAAK,CAAC;AACpBS,QAAAA,MAAM,EAAE,MADY;AAEpBC,QAAAA,GAAG,EAAE,0DAFe;AAGpBG,QAAAA,IAAI,EAAE;AACFP,UAAAA,WAAW,EAAEe,YADX;AAEFQ,UAAAA,UAAU,EAAEP,eAFV;AAGFQ,UAAAA,iBAAiB,EAAEF;AAHjB,SAHc;AAQpBG,QAAAA,OAAO,EAAE;AACLC,UAAAA,aAAa,EAAG,UAAST,KAAM;AAD1B;AARW,OAAD,CAAvB;AAYAP,MAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACAD,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEV,aADD;AACgB;AACrBW,QAAAA,OAAO,EAAEJ,GAAG,CAACK;AAFR,OAAD,CAAR;AAIH,KAlBD,CAkBE,OAAOE,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,GAzBD;AA0BH,CA5BM","sourcesContent":["import Axios from \"axios\";\nimport { BOOKING_CHAIR, CHOICE_CHAIR, GET_TICKET_LIST, SET_TIMEOUT_BOOKING } from \"../constants/booking.constant\";\n\nexport const getTicketListAction = (maLichChieu) => {\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: 'GET',\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${maLichChieu}`\n            })\n            dispatch({\n                type: GET_TICKET_LIST,\n                payload: res.data.danhSachGhe\n            })\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}\nexport const choiceChairAction = (payload) => {\n    return {\n        type: CHOICE_CHAIR,// great value dangChon => BookingReducer\n        payload,\n    }\n}\n\nexport const setTimeOutBooking = (payload) => {\n    return {\n        type: SET_TIMEOUT_BOOKING,// great value dangChon => BookingReducer\n        payload,\n    }\n}\n\nexport const bookingTicketAction = (showTimeCode, listChairChoice) => {\n    // reccive (showTimeCode, listChairChoice) form dispatch BookingComponent\n    return async (dispatch) => {\n        // get data to localstorage have save form action/signIn_Action \n        const toKen = JSON.parse(localStorage.getItem('token'))\n        const taiKhoan = JSON.parse(localStorage.getItem('taiKhoan'))\n        try {\n            const res = await Axios({\n                method: 'POST',\n                url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe\",\n                data: {\n                    maLichChieu: showTimeCode,\n                    danhSachVe: listChairChoice,\n                    taiKhoanNguoiDung: taiKhoan,\n                },\n                headers: {\n                    Authorization: `Bearer ${toKen}`,\n                }\n            })\n            console.log(res);\n            dispatch({\n                type: BOOKING_CHAIR, // none save BookingReducer\n                payload: res.data,\n            })\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}