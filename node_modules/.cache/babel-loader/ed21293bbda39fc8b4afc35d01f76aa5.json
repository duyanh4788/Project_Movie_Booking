{"ast":null,"code":"import Axios from \"axios\";\nimport { BOOKING_CHAIR, CHOICE_CHAIR, GET_TICKET_LIST } from \"../constants/booking.constant\";\nexport const getTicketListAction = maLichChieu => {\n  return async dispatch => {\n    try {\n      const res = await Axios({\n        method: 'GET',\n        url: `https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${maLichChieu}`\n      });\n      dispatch({\n        type: GET_TICKET_LIST,\n        payload: res.data.danhSachGhe\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const choiceChairAction = payload => {\n  return {\n    type: CHOICE_CHAIR,\n    // great value dangChon => BookingReducer\n    payload\n  };\n};\nexport const bookingTicketAction = (showTimeCode, listChairChoice) => {\n  console.log(showTimeCode);\n  console.log(listChairChoice); // reccive (showTimeCode, listChairChoice) form dispatch BookingComponent\n\n  return async dispatch => {\n    // get data to localstorage have save form action/signIn_Action \n    const toKen = JSON.parse(localStorage.getItem('token'));\n    const taiKhoan = JSON.parse(localStorage.getItem('taiKhoan'));\n\n    try {\n      const res = await Axios({\n        method: 'POST',\n        url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe\",\n        data: {\n          maLichChieu: showTimeCode,\n          danhSachVe: listChairChoice,\n          taiKhoanNguoiDung: taiKhoan\n        },\n        headers: {\n          Authorization: `Bearer ${toKen}`\n        }\n      });\n      console.log(res);\n      dispatch({\n        type: BOOKING_CHAIR // none save BookingReducer\n\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};","map":{"version":3,"sources":["/home/atat-dev/Desktop/VS_CODE/Project_React_JS/src/store/actions/booking.action.js"],"names":["Axios","BOOKING_CHAIR","CHOICE_CHAIR","GET_TICKET_LIST","getTicketListAction","maLichChieu","dispatch","res","method","url","type","payload","data","danhSachGhe","error","console","log","choiceChairAction","bookingTicketAction","showTimeCode","listChairChoice","toKen","JSON","parse","localStorage","getItem","taiKhoan","danhSachVe","taiKhoanNguoiDung","headers","Authorization"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,YAAxB,EAAsCC,eAAtC,QAA6D,+BAA7D;AAEA,OAAO,MAAMC,mBAAmB,GAAIC,WAAD,IAAiB;AAChD,SAAO,MAAOC,QAAP,IAAoB;AACvB,QAAI;AACA,YAAMC,GAAG,GAAG,MAAMP,KAAK,CAAC;AACpBQ,QAAAA,MAAM,EAAE,KADY;AAEpBC,QAAAA,GAAG,EAAG,qFAAoFJ,WAAY;AAFlF,OAAD,CAAvB;AAIAC,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEP,eADD;AAELQ,QAAAA,OAAO,EAAEJ,GAAG,CAACK,IAAJ,CAASC;AAFb,OAAD,CAAR;AAIH,KATD,CASE,OAAOC,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,GAbD;AAcH,CAfM;AAgBP,OAAO,MAAMG,iBAAiB,GAAIN,OAAD,IAAa;AAC1C,SAAO;AACHD,IAAAA,IAAI,EAAER,YADH;AACgB;AACnBS,IAAAA;AAFG,GAAP;AAIH,CALM;AAOP,OAAO,MAAMO,mBAAmB,GAAG,CAACC,YAAD,EAAeC,eAAf,KAAmC;AAClEL,EAAAA,OAAO,CAACC,GAAR,CAAYG,YAAZ;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAYI,eAAZ,EAFkE,CAGlE;;AACA,SAAO,MAAOd,QAAP,IAAoB;AACvB;AACA,UAAMe,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,UAAMC,QAAQ,GAAGJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAjB;;AACA,QAAI;AACA,YAAMlB,GAAG,GAAG,MAAMP,KAAK,CAAC;AACpBQ,QAAAA,MAAM,EAAE,MADY;AAEpBC,QAAAA,GAAG,EAAE,0DAFe;AAGpBG,QAAAA,IAAI,EAAE;AACFP,UAAAA,WAAW,EAAEc,YADX;AAEFQ,UAAAA,UAAU,EAAEP,eAFV;AAGFQ,UAAAA,iBAAiB,EAAEF;AAHjB,SAHc;AAQpBG,QAAAA,OAAO,EAAE;AACLC,UAAAA,aAAa,EAAG,UAAST,KAAM;AAD1B;AARW,OAAD,CAAvB;AAYAN,MAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACAD,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAET,aADD,CACgB;;AADhB,OAAD,CAAR;AAGH,KAjBD,CAiBE,OAAOa,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,GAxBD;AAyBH,CA7BM","sourcesContent":["import Axios from \"axios\";\nimport { BOOKING_CHAIR, CHOICE_CHAIR, GET_TICKET_LIST } from \"../constants/booking.constant\";\n\nexport const getTicketListAction = (maLichChieu) => {\n    return async (dispatch) => {\n        try {\n            const res = await Axios({\n                method: 'GET',\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${maLichChieu}`\n            })\n            dispatch({\n                type: GET_TICKET_LIST,\n                payload: res.data.danhSachGhe\n            })\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}\nexport const choiceChairAction = (payload) => {\n    return {\n        type: CHOICE_CHAIR,// great value dangChon => BookingReducer\n        payload,\n    }\n}\n\nexport const bookingTicketAction = (showTimeCode, listChairChoice) => {\n    console.log(showTimeCode);\n    console.log(listChairChoice);\n    // reccive (showTimeCode, listChairChoice) form dispatch BookingComponent\n    return async (dispatch) => {\n        // get data to localstorage have save form action/signIn_Action \n        const toKen = JSON.parse(localStorage.getItem('token'))\n        const taiKhoan = JSON.parse(localStorage.getItem('taiKhoan'))\n        try {\n            const res = await Axios({\n                method: 'POST',\n                url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe\",\n                data: {\n                    maLichChieu: showTimeCode,\n                    danhSachVe: listChairChoice,\n                    taiKhoanNguoiDung: taiKhoan,\n                },\n                headers: {\n                    Authorization: `Bearer ${toKen}`,\n                }\n            })\n            console.log(res);\n            dispatch({\n                type: BOOKING_CHAIR, // none save BookingReducer\n            })\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}