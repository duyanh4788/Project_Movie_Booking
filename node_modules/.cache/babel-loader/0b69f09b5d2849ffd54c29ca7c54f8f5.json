{"ast":null,"code":"var _jsxFileName = \"/home/atat-dev/Desktop/VS_CODE/Project_React_JS/src/pages/DropDowns/DropDowns.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport \"./scss/dropdowns.css\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getListMovieDropDowns, getCinemaDropDownsWithCode, getDateDropDowns, getTimerDropDowns } from \"../../store/actions/dropdowns.action\"; // format dd-mm-yy\n\nimport format from \"date-format\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DropDowns = () => {\n  _s();\n\n  const dispatch = useDispatch(); // call api\n\n  useEffect(() => {\n    dispatch(getListMovieDropDowns());\n  }, [dispatch]); // get data reducer\n\n  const listMovie = useSelector(state => {\n    return state.dropDownsReducer.listPhim;\n  }); // get data reducer\n\n  const listCinema = useSelector(state => {\n    return state.dropDownsReducer.listCinema;\n  }); // get data reducer\n\n  const listLichChieu = useSelector(state => {\n    return state.dropDownsReducer.listLichChieu;\n  }); // get data reducer\n\n  const listXuatChieu = useSelector(state => {\n    return state.dropDownsReducer.listXuatChieu;\n  }); // show phim\n\n  const [stateTenPhim] = useState({\n    tenPhim: \"\"\n  }); // show phim\n\n  const getCinemaDropDowns_ = (maPhim, tenPhim) => {\n    stateTenPhim.tenPhim = tenPhim;\n    dispatch(getCinemaDropDownsWithCode(maPhim));\n  }; // show phim\n\n\n  const renderListMovie = () => {\n    return listMovie.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: () => getCinemaDropDowns_(item.maPhim, item.tenPhim),\n        children: item.tenPhim\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this);\n    });\n  }; // show tenRap\n\n\n  const renderListCinema = () => {\n    return listCinema.heThongRapChieu.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        children: item.cumRapChieu.map((items, indexs) => {\n          return /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => {\n              getCodeCinema(items, items.tenCumRap);\n            },\n            children: items.tenCumRap\n          }, indexs, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this);\n        })\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this);\n    });\n  }; // show tenRap\n\n\n  const [stateTenRap, setTenRap] = useState({\n    tenRap: \"\"\n  }); // show tenRap\n\n  const getCodeCinema = (items, tenCumRap) => {\n    setTenRap({\n      tenRap: tenCumRap\n    });\n    dispatch(getDateDropDowns(items));\n  }; // show date\n\n\n  const [stateDate, setDate] = useState({\n    date: \"\"\n  }); // show date\n\n  const renderDateCinema = () => {\n    return listLichChieu.lichChieuPhim.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: () => {\n          getDateCinema(item.ngayChieuGioChieu, item);\n        },\n        children: [\" \", format(\"dd-mm-yyyy\", new Date(item.ngayChieuGioChieu))]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this);\n    });\n  }; // show date\n\n\n  const getDateCinema = (ngayChieuGioChieu, item) => {\n    let formatDate = format(\"dd-mm-yyyy\", new Date(ngayChieuGioChieu));\n    setDate({\n      date: formatDate\n    });\n    dispatch(getTimerDropDowns(item));\n  }; // show timer\n\n\n  const [stateTimer, setTimer] = useState({\n    timer: \"\"\n  }); // show date\n\n  const renderTimerCinema = () => {\n    return listXuatChieu.lichChieuPhim.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: () => {\n          getTimerCinema(item.ngayChieuGioChieu);\n        },\n        children: [\" \", format(\"hh:mm:ss\", new Date(item.ngayChieuGioChieu))]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this);\n    });\n  }; // show timer\n\n\n  const getTimerCinema = ngayChieuGioChieu => {\n    let formatTimer = format(\"dd-mm-yyyy\", new Date(ngayChieuGioChieu));\n    setTimer({\n      timer: formatTimer\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container dropDownsRelavite\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropDownsMain\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdownPhim\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropbtn\",\n          children: listCinema.heThongRapChieu ? stateTenPhim.tenPhim : \"Chọn Phim\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contentPhim\",\n          children: renderListMovie()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdownTitle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropbtn\",\n          children: stateTenRap.tenRap === \"\" ? \"Chọn Rạp\" : stateTenRap.tenRap.slice(10)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contentTitle\",\n          children: listCinema.heThongRapChieu ? renderListCinema() : /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Ch\\u1ECDn R\\u1EA1p\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdownTitle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropbtn\",\n          children: stateDate.date === \"\" ? \"Ngày Chiếu\" : stateDate.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contentTitle\",\n          children: listLichChieu.lichChieuPhim ? renderDateCinema() : /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Ch\\u1ECDn Ng\\xE0y Chi\\u1EBFu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdownTitle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropbtn\",\n          children: \"Xu\\u1EA5t Chi\\u1EBFu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contentTitle\",\n          children: listXuatChieu.lichChieuPhim ? renderTimerCinema() : /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Ch\\u1ECDn Xu\\u1EA5t Chi\\u1EBFu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnMuaVe\",\n        children: \"Mua V\\xE9 Ngay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DropDowns, \"Uh3Pr+YTwA+OwLOlemwNMUyiBmw=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = DropDowns;\nexport default DropDowns;\n\nvar _c;\n\n$RefreshReg$(_c, \"DropDowns\");","map":{"version":3,"sources":["/home/atat-dev/Desktop/VS_CODE/Project_React_JS/src/pages/DropDowns/DropDowns.jsx"],"names":["React","useEffect","useState","ExpandMoreIcon","useDispatch","useSelector","getListMovieDropDowns","getCinemaDropDownsWithCode","getDateDropDowns","getTimerDropDowns","format","DropDowns","dispatch","listMovie","state","dropDownsReducer","listPhim","listCinema","listLichChieu","listXuatChieu","stateTenPhim","tenPhim","getCinemaDropDowns_","maPhim","renderListMovie","map","item","index","renderListCinema","heThongRapChieu","cumRapChieu","items","indexs","getCodeCinema","tenCumRap","stateTenRap","setTenRap","tenRap","stateDate","setDate","date","renderDateCinema","lichChieuPhim","getDateCinema","ngayChieuGioChieu","Date","formatDate","stateTimer","setTimer","timer","renderTimerCinema","getTimerCinema","formatTimer","slice"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport \"./scss/dropdowns.css\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getListMovieDropDowns,\n  getCinemaDropDownsWithCode,\n  getDateDropDowns,\n  getTimerDropDowns,\n} from \"../../store/actions/dropdowns.action\";\n// format dd-mm-yy\nimport format from \"date-format\";\n\nconst DropDowns = () => {\n  const dispatch = useDispatch();\n  // call api\n  useEffect(() => {\n    dispatch(getListMovieDropDowns());\n  }, [dispatch]);\n  // get data reducer\n  const listMovie = useSelector((state) => {\n    return state.dropDownsReducer.listPhim;\n  });\n  // get data reducer\n  const listCinema = useSelector((state) => {\n    return state.dropDownsReducer.listCinema;\n  });\n\n  // get data reducer\n  const listLichChieu = useSelector((state) => {\n    return state.dropDownsReducer.listLichChieu;\n  });\n\n  // get data reducer\n  const listXuatChieu = useSelector((state) => {\n    return state.dropDownsReducer.listXuatChieu;\n  });\n\n  // show phim\n  const [stateTenPhim] = useState({\n    tenPhim: \"\",\n  });\n  // show phim\n  const getCinemaDropDowns_ = (maPhim, tenPhim) => {\n    stateTenPhim.tenPhim = tenPhim;\n    dispatch(getCinemaDropDownsWithCode(maPhim));\n  };\n  // show phim\n  const renderListMovie = () => {\n    return listMovie.map((item, index) => {\n      return (\n        <a\n          key={index}\n          onClick={() => getCinemaDropDowns_(item.maPhim, item.tenPhim)}\n        >\n          {item.tenPhim}\n        </a>\n      );\n    });\n  };\n\n  // show tenRap\n  const renderListCinema = () => {\n    return listCinema.heThongRapChieu.map((item, index) => {\n      return (\n        <section key={index}>\n          {item.cumRapChieu.map((items, indexs) => {\n            return (\n              <a\n                key={indexs}\n                onClick={() => {\n                  getCodeCinema(items, items.tenCumRap);\n                }}\n              >\n                {items.tenCumRap}\n              </a>\n            );\n          })}\n        </section>\n      );\n    });\n  };\n\n  // show tenRap\n  const [stateTenRap, setTenRap] = useState({\n    tenRap: \"\",\n  });\n  // show tenRap\n  const getCodeCinema = (items, tenCumRap) => {\n    setTenRap({\n      tenRap: tenCumRap,\n    });\n    dispatch(getDateDropDowns(items));\n  };\n\n  // show date\n  const [stateDate, setDate] = useState({\n    date: \"\",\n  });\n  // show date\n  const renderDateCinema = () => {\n    return listLichChieu.lichChieuPhim.map((item, index) => {\n      return (\n        <a\n          key={index}\n          onClick={() => {\n            getDateCinema(item.ngayChieuGioChieu , item);\n          }}\n        >\n          {\" \"}\n          {format(\"dd-mm-yyyy\", new Date(item.ngayChieuGioChieu))}\n        </a>\n      );\n    });\n  };\n  // show date\n  const getDateCinema = (ngayChieuGioChieu , item) => {\n    let formatDate = format(\"dd-mm-yyyy\", new Date(ngayChieuGioChieu));\n    setDate({\n      date: formatDate,\n    });\n    dispatch(getTimerDropDowns(item))\n  };\n\n  // show timer\n  const [stateTimer, setTimer] = useState({\n    timer: \"\",\n  });\n  // show date\n  const renderTimerCinema = () => {\n    return listXuatChieu.lichChieuPhim.map((item, index) => {\n      return (\n        <a\n          key={index}\n          onClick={() => {\n            getTimerCinema(item.ngayChieuGioChieu);\n          }}\n        >\n          {\" \"}\n          {format(\"hh:mm:ss\", new Date(item.ngayChieuGioChieu))}\n        </a>\n      );\n    });\n  };\n  // show timer\n  const getTimerCinema = (ngayChieuGioChieu) => {\n    let formatTimer = format(\"dd-mm-yyyy\", new Date(ngayChieuGioChieu));\n    setTimer({\n      timer: formatTimer,\n    });\n  };\n\n  return (\n    <div className=\"container dropDownsRelavite\">\n      <div className=\"dropDownsMain\">\n        <div className=\"dropdownPhim\">\n          <button className=\"dropbtn\">\n            {listCinema.heThongRapChieu ? stateTenPhim.tenPhim : \"Chọn Phim\"}\n          </button>\n          <ExpandMoreIcon />\n          <div className=\"contentPhim\">{renderListMovie()}</div>\n        </div>\n\n        <div className=\"dropdownTitle\">\n          <button className=\"dropbtn\">\n            {stateTenRap.tenRap === \"\"\n              ? \"Chọn Rạp\"\n              : stateTenRap.tenRap.slice(10)}\n          </button>\n          <ExpandMoreIcon />\n          <div className=\"contentTitle\">\n            {listCinema.heThongRapChieu ? renderListCinema() : <a>Chọn Rạp</a>}\n          </div>\n        </div>\n\n        <div className=\"dropdownTitle\">\n          <button className=\"dropbtn\">\n            {stateDate.date === \"\" ? \"Ngày Chiếu\" : stateDate.date}\n          </button>\n          <ExpandMoreIcon />\n          <div className=\"contentTitle\">\n            {listLichChieu.lichChieuPhim ? (\n              renderDateCinema()\n            ) : (\n              <a>Chọn Ngày Chiếu</a>\n            )}\n          </div>\n        </div>\n\n        <div className=\"dropdownTitle\">\n          <button className=\"dropbtn\">Xuất Chiếu</button>\n          <ExpandMoreIcon />\n          <div className=\"contentTitle\">\n            {listXuatChieu.lichChieuPhim ? (\n              renderTimerCinema()\n            ) : (\n              <a>Chọn Xuất Chiếu</a>\n            )}\n          </div>\n        </div>\n\n        <button className=\"btnMuaVe\">Mua Vé Ngay</button>\n      </div>\n    </div>\n  );\n};\nexport default DropDowns;\n"]},"metadata":{},"sourceType":"module"}