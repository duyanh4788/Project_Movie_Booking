{"ast":null,"code":"var _jsxFileName = \"/home/atat-dev/Desktop/VS_CODE/Project_Movie_Booking/src/pages/DropDowns/DropDowns.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\"; // react router dom\n\nimport { useHistory } from \"react-router-dom\";\nimport \"./scss/dropdowns.css\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getListMovieDropDowns, getCinemaDropDownsWithCode, getDateDropDowns, setDataDropDownsWithCode } from \"../../store/actions/dropdowns.action\"; // date format\n\nimport * as dayjs from \"dayjs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DropDowns = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory(); // get maNhom\n\n  const [stateMaNhom, setMaNhom] = useState({\n    maNhom: \"GP01\"\n  }); // call api\n\n  useEffect(() => {\n    dispatch(getListMovieDropDowns(stateMaNhom.maNhom));\n    dispatch(setDataDropDownsWithCode({}));\n    dispatch(getDateDropDowns(\"\"));\n  }, [dispatch, stateMaNhom.maNhom]); // get data reducer\n\n  const listMovie = useSelector(state => {\n    return state.dropDownsReducer.listPhim;\n  }); // get data reducer\n\n  const listCinema = useSelector(state => {\n    return state.dropDownsReducer.listCinema;\n  }); // get data reducer\n\n  const listLichChieu = useSelector(state => {\n    return state.dropDownsReducer.listLichChieu;\n  }); // show phim\n\n  const [stateTenPhim] = useState({\n    tenPhim: \"\"\n  }); // get maPhim\n\n  const [stateMaPhim, setStateMaPhim] = useState({\n    maPhim: \"\"\n  }); // set maNhom call api\n\n  const handleMaNhom = e => {\n    setMaNhom({ ...stateMaNhom,\n      maNhom: e.target.value\n    });\n    setStateMaPhim({\n      maPhim: \"\"\n    });\n    setTenRap({\n      tenRap: \"\"\n    });\n    setDate({\n      date: \"\"\n    });\n    setTimer({\n      timer: \"\"\n    });\n  }; // show phim\n\n\n  const getCinemaDropDowns_ = (maPhim, tenPhim) => {\n    stateTenPhim.tenPhim = tenPhim;\n    dispatch(getCinemaDropDownsWithCode(maPhim));\n    setStateMaPhim({\n      maPhim: maPhim\n    });\n    setTenRap({\n      tenRap: \"\"\n    });\n    setDate({\n      date: \"\"\n    });\n    setTimer({\n      timer: \"\"\n    });\n  }; // show phim\n\n\n  const renderListMovie = () => {\n    return listMovie.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: () => getCinemaDropDowns_(item.maPhim, item.tenPhim),\n        children: item.tenPhim.slice(0, 12)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this);\n    });\n  }; // show tenRap\n\n\n  const renderListCinema = () => {\n    return listCinema.heThongRapChieu.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        children: item.cumRapChieu.map((items, indexs) => {\n          return /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => {\n              getCodeCinema(items, items.tenCumRap);\n            },\n            children: items.tenCumRap\n          }, indexs, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this);\n        })\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this);\n    });\n  }; // show tenRap\n\n\n  const [stateTenRap, setTenRap] = useState({\n    tenRap: \"\"\n  }); // show tenRap\n\n  const getCodeCinema = (items, tenCumRap) => {\n    setTenRap({\n      tenRap: tenCumRap\n    });\n    dispatch(getDateDropDowns(items));\n    setDate({\n      date: \"\"\n    });\n    setTimer({\n      timer: \"\"\n    });\n  };\n\n  const [dateTime, setDateTime] = useState(\"\"); // show date\n\n  const [stateDate, setDate] = useState({\n    date: \"\"\n  }); // show timer\n\n  const [stateTimer, setTimer] = useState({\n    timer: \"\"\n  }); // show date\n\n  const renderDateCinema = () => {\n    return listLichChieu.lichChieuPhim.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        onClick: () => {\n          getDateCinema(item.ngayChieuGioChieu, item.maLichChieu);\n        },\n        children: dayjs(item.ngayChieuGioChieu).format(\"DD-MM-YYYY\")\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this);\n    });\n  }; // show date\n\n\n  const [stateTimeCode] = useState({\n    timeCode: \"\"\n  });\n\n  const getDateCinema = (ngayChieuGioChieu, maLichChieu) => {\n    stateTimeCode.timeCode = maLichChieu;\n    let formatDate = ngayChieuGioChieu.slice(0, 10);\n    setDate({\n      date: formatDate\n    });\n    let formatTimer = ngayChieuGioChieu.slice(11, 16);\n    setTimer({\n      timer: formatTimer\n    });\n    setDateTime(ngayChieuGioChieu);\n  };\n\n  const bookingMovie = () => {\n    if (stateTimeCode.timeCode && stateMaPhim.maPhim && stateTenRap.tenRap) {\n      history.push(`/bookingComponent/${stateTimeCode.timeCode}-${stateMaPhim.maPhim}-${stateTenRap.tenRap}-${dateTime}`);\n    }\n\n    const toKen = JSON.parse(localStorage.getItem(\"token\"));\n\n    if (stateTimeCode.timeCode && stateMaPhim.maPhim && stateTenRap.tenRap && !toKen) {\n      history.push(\"/signIn\");\n    }\n  }; // render maNhom\n\n\n  const renderMaNhom = () => {\n    let arrMaNhom = [\"GP01\", \"GP02 \", \"GP03\", \"GP04 \", \"GP05\", \"GP06 \", \"GP07\", \"GP08 \", \"GP09\", \"GP10 \"];\n    return arrMaNhom.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: item,\n        children: item\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container dropDownsRelavite\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropDownsMain\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropDownMaNhom\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Nh\\xF3m : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"maNhom\",\n          value: stateMaNhom.maNhom,\n          onChange: handleMaNhom,\n          children: renderMaNhom()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdownPhim\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropbtn\",\n          children: stateTenPhim.tenPhim === \"\" ? \"Chọn Phim\" : stateTenPhim.tenPhim\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contentPhim\",\n          children: renderListMovie()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdownRap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropbtn\",\n          children: stateTenRap.tenRap === \"\" ? \"Chọn Rạp\" : stateTenRap.tenRap.slice(0, 33)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contentRap\",\n          children: listCinema.heThongRapChieu ? renderListCinema() : /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Ch\\u1ECDn R\\u1EA1p\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdownTitle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropbtn\",\n          children: stateDate.date === \"\" ? \"Ngày Chiếu\" : stateDate.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: listLichChieu.lichChieuPhim && listLichChieu.lichChieuPhim.length > 6 ? \"contentTitleLength\" : \"contentTitle\",\n          children: listLichChieu.lichChieuPhim ? renderDateCinema() : /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Ch\\u1ECDn Ng\\xE0y Chi\\u1EBFu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdownTitle\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropbtn\",\n          children: stateTimer.timer === \"\" ? \"Ngày Chiếu\" : stateTimer.timer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnMuaVe\",\n        onClick: bookingMovie,\n        children: \"Mua V\\xE9 Ngay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DropDowns, \"BfmVfjTy8kxd3LEaNbA3gRk2j/w=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector, useSelector];\n});\n\n_c = DropDowns;\nexport default DropDowns;\n\nvar _c;\n\n$RefreshReg$(_c, \"DropDowns\");","map":{"version":3,"sources":["/home/atat-dev/Desktop/VS_CODE/Project_Movie_Booking/src/pages/DropDowns/DropDowns.jsx"],"names":["React","useEffect","useState","useHistory","ExpandMoreIcon","useDispatch","useSelector","getListMovieDropDowns","getCinemaDropDownsWithCode","getDateDropDowns","setDataDropDownsWithCode","dayjs","DropDowns","props","dispatch","history","stateMaNhom","setMaNhom","maNhom","listMovie","state","dropDownsReducer","listPhim","listCinema","listLichChieu","stateTenPhim","tenPhim","stateMaPhim","setStateMaPhim","maPhim","handleMaNhom","e","target","value","setTenRap","tenRap","setDate","date","setTimer","timer","getCinemaDropDowns_","renderListMovie","map","item","index","slice","renderListCinema","heThongRapChieu","cumRapChieu","items","indexs","getCodeCinema","tenCumRap","stateTenRap","dateTime","setDateTime","stateDate","stateTimer","renderDateCinema","lichChieuPhim","getDateCinema","ngayChieuGioChieu","maLichChieu","format","stateTimeCode","timeCode","formatDate","formatTimer","bookingMovie","push","toKen","JSON","parse","localStorage","getItem","renderMaNhom","arrMaNhom","length"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\n// react router dom\nimport { useHistory } from \"react-router-dom\";\nimport \"./scss/dropdowns.css\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getListMovieDropDowns,\n  getCinemaDropDownsWithCode,\n  getDateDropDowns,\n  setDataDropDownsWithCode,\n} from \"../../store/actions/dropdowns.action\";\n// date format\nimport * as dayjs from \"dayjs\";\n\nconst DropDowns = (props) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  // get maNhom\n  const [stateMaNhom, setMaNhom] = useState({\n    maNhom: \"GP01\",\n  });\n  // call api\n  useEffect(() => {\n    dispatch(getListMovieDropDowns(stateMaNhom.maNhom));\n    dispatch(setDataDropDownsWithCode({}));\n    dispatch(getDateDropDowns(\"\"));\n  }, [dispatch, stateMaNhom.maNhom]);\n\n  // get data reducer\n  const listMovie = useSelector((state) => {\n    return state.dropDownsReducer.listPhim;\n  });\n  // get data reducer\n  const listCinema = useSelector((state) => {\n    return state.dropDownsReducer.listCinema;\n  });\n\n  // get data reducer\n  const listLichChieu = useSelector((state) => {\n    return state.dropDownsReducer.listLichChieu;\n  });\n  // show phim\n  const [stateTenPhim] = useState({\n    tenPhim: \"\",\n  });\n  // get maPhim\n  const [stateMaPhim, setStateMaPhim] = useState({\n    maPhim: \"\",\n  });\n  // set maNhom call api\n  const handleMaNhom = (e) => {\n    setMaNhom({ ...stateMaNhom, maNhom: e.target.value });\n    setStateMaPhim({\n      maPhim: \"\",\n    });\n    setTenRap({\n      tenRap: \"\",\n    });\n    setDate({\n      date: \"\",\n    });\n    setTimer({\n      timer: \"\",\n    });\n  };\n  // show phim\n  const getCinemaDropDowns_ = (maPhim, tenPhim) => {\n    stateTenPhim.tenPhim = tenPhim;\n    dispatch(getCinemaDropDownsWithCode(maPhim));\n    setStateMaPhim({\n      maPhim: maPhim,\n    });\n    setTenRap({\n      tenRap: \"\",\n    });\n    setDate({\n      date: \"\",\n    });\n    setTimer({\n      timer: \"\",\n    });\n  };\n  // show phim\n  const renderListMovie = () => {\n    return listMovie.map((item, index) => {\n      return (\n        <a\n          key={index}\n          onClick={() => getCinemaDropDowns_(item.maPhim, item.tenPhim)}\n        >\n          {item.tenPhim.slice(0,12)}\n        </a>\n      );\n    });\n  };\n\n  // show tenRap\n  const renderListCinema = () => {\n    return listCinema.heThongRapChieu.map((item, index) => {\n      return (\n        <section key={index}>\n          {item.cumRapChieu.map((items, indexs) => {\n            return (\n              <a\n                key={indexs}\n                onClick={() => {\n                  getCodeCinema(items, items.tenCumRap);\n                }}\n              >\n                {items.tenCumRap}\n              </a>\n            );\n          })}\n        </section>\n      );\n    });\n  };\n\n  // show tenRap\n  const [stateTenRap, setTenRap] = useState({\n    tenRap: \"\",\n  });\n  // show tenRap\n  const getCodeCinema = (items, tenCumRap) => {\n    setTenRap({\n      tenRap: tenCumRap,\n    });\n    dispatch(getDateDropDowns(items));\n    setDate({\n      date: \"\",\n    });\n    setTimer({\n      timer: \"\",\n    });\n  };\n  const [dateTime, setDateTime] = useState(\"\");\n  // show date\n  const [stateDate, setDate] = useState({\n    date: \"\",\n  });\n  // show timer\n  const [stateTimer, setTimer] = useState({\n    timer: \"\",\n  });\n  // show date\n  const renderDateCinema = () => {\n    return listLichChieu.lichChieuPhim.map((item, index) => {\n      return (\n        <a\n          key={index}\n          onClick={() => {\n            getDateCinema(item.ngayChieuGioChieu, item.maLichChieu);\n          }}\n        >\n          {dayjs(item.ngayChieuGioChieu).format(\"DD-MM-YYYY\")}\n        </a>\n      );\n    });\n  };\n  // show date\n  const [stateTimeCode] = useState({\n    timeCode: \"\",\n  });\n  const getDateCinema = (ngayChieuGioChieu, maLichChieu) => {\n    stateTimeCode.timeCode = maLichChieu;\n    let formatDate = ngayChieuGioChieu.slice(0, 10);\n    setDate({\n      date: formatDate,\n    });\n    let formatTimer = ngayChieuGioChieu.slice(11, 16);\n    setTimer({\n      timer: formatTimer,\n    });\n    setDateTime(ngayChieuGioChieu);\n  };\n\n  const bookingMovie = () => {\n    if (stateTimeCode.timeCode && stateMaPhim.maPhim && stateTenRap.tenRap) {\n      history.push(\n        `/bookingComponent/${stateTimeCode.timeCode}-${stateMaPhim.maPhim}-${stateTenRap.tenRap}-${dateTime}`\n      );\n    }\n    const toKen = JSON.parse(localStorage.getItem(\"token\"));\n    if (\n      stateTimeCode.timeCode &&\n      stateMaPhim.maPhim &&\n      stateTenRap.tenRap &&\n      !toKen\n    ) {\n      history.push(\"/signIn\");\n    }\n  };\n\n  // render maNhom\n  const renderMaNhom = () => {\n    let arrMaNhom = [\n      \"GP01\",\n      \"GP02 \",\n      \"GP03\",\n      \"GP04 \",\n      \"GP05\",\n      \"GP06 \",\n      \"GP07\",\n      \"GP08 \",\n      \"GP09\",\n      \"GP10 \",\n    ];\n    return arrMaNhom.map((item, index) => {\n      return (\n        <option key={index} value={item}>\n          {item}\n        </option>\n      );\n    });\n  };\n\n  return (\n    <div className=\"container dropDownsRelavite\">\n      <div className=\"dropDownsMain\">\n        <div className=\"dropDownMaNhom\">\n          <span>Nhóm : </span>\n          <select\n            name=\"maNhom\"\n            value={stateMaNhom.maNhom}\n            onChange={handleMaNhom}\n          >\n            {renderMaNhom()}\n          </select>\n        </div>\n        <div className=\"dropdownPhim\">\n          <button className=\"dropbtn\">\n            {stateTenPhim.tenPhim === \"\" ? \"Chọn Phim\" : stateTenPhim.tenPhim}\n          </button>\n          <ExpandMoreIcon />\n          <div className=\"contentPhim\">{renderListMovie()}</div>\n        </div>\n\n        <div className=\"dropdownRap\">\n          <button className=\"dropbtn\">\n            {stateTenRap.tenRap === \"\"\n              ? \"Chọn Rạp\"\n              : stateTenRap.tenRap.slice(0, 33)}\n          </button>\n          <ExpandMoreIcon />\n          <div className=\"contentRap\">\n            {listCinema.heThongRapChieu ? renderListCinema() : <a>Chọn Rạp</a>}\n          </div>\n        </div>\n\n        <div className=\"dropdownTitle\">\n          <button className=\"dropbtn\">\n            {stateDate.date === \"\" ? \"Ngày Chiếu\" : stateDate.date}\n          </button>\n          <ExpandMoreIcon />\n          <div\n            className={\n              listLichChieu.lichChieuPhim &&\n              listLichChieu.lichChieuPhim.length > 6\n                ? \"contentTitleLength\"\n                : \"contentTitle\"\n            }\n          >\n            {listLichChieu.lichChieuPhim ? (\n              renderDateCinema()\n            ) : (\n              <a>Chọn Ngày Chiếu</a>\n            )}\n          </div>\n        </div>\n\n        <div className=\"dropdownTitle\">\n          <button className=\"dropbtn\">\n            {stateTimer.timer === \"\" ? \"Ngày Chiếu\" : stateTimer.timer}\n          </button>\n        </div>\n\n        <button className=\"btnMuaVe\" onClick={bookingMovie}>\n          Mua Vé Ngay\n        </button>\n      </div>\n    </div>\n  );\n};\nexport default DropDowns;\n"]},"metadata":{},"sourceType":"module"}